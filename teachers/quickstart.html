

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Teacher Quick Start Guide &mdash; Pedal 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Teacher Examples" href="examples.html" />
    <link rel="prev" title="Installation" href="../everyone/installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Pedal
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../everyone/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../everyone/installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Teacher Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#command-line-usage">Command Line Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instructor-control-scripts">Instructor Control Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-environments">Custom Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#core-feedback-functions">Core Feedback Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#finding-ast-patterns">Finding AST Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#checking-execution-results">Checking Execution Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calling-students-functions">Calling Students’ Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-assertions">Simple Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-unit-testing">Simple Unit Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-assertions">Other Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resolver-feedback">Resolver Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Teacher Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Teacher Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrations.html">Autograder Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="practices.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/ffs.html">Developers: Feedback Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/api.html">Developer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/tools.html">Developer Tools Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/conventions.html">Internal Naming Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/libraries.html">Necessary Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Researchers: Analyzing with Pedal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../everyone/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../everyone/contact.html">Contact</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pedal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Teacher Quick Start Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/teachers/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="teacher-quick-start-guide">
<h1>Teacher Quick Start Guide<a class="headerlink" href="#teacher-quick-start-guide" title="Permalink to this heading">¶</a></h1>
<p>Pedal is composed of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Tools</span></code> that write <code class="xref py py-obj docutils literal notranslate"><span class="pre">Feedback</span></code> to a centralized <code class="xref py py-obj docutils literal notranslate"><span class="pre">Report</span></code>
by detecting <code class="xref py py-obj docutils literal notranslate"><span class="pre">Conditions</span></code> in your learners’ <code class="xref py py-obj docutils literal notranslate"><span class="pre">Submission</span></code> and providing an
appropriate <code class="xref py py-obj docutils literal notranslate"><span class="pre">Response</span></code>. As a grader, you just have to write the Instructor
Control Script (or “Grading Script”). In this Quick Start Guide, we’ll show you
how you can make this happen in just a few lines of code. Once you’ve got the
basics, you can check out the <a class="reference internal" href="examples.html"><span class="doc">Teacher Examples</span></a> for a more detailed examples.</p>
<section id="command-line-usage">
<h2>Command Line Usage<a class="headerlink" href="#command-line-usage" title="Permalink to this heading">¶</a></h2>
<p>Pedal is meant to be integrated into existing autograders (see <a class="reference internal" href="integrations.html#integrations"><span class="std std-ref">Autograder Integrations</span></a>),
but works perfectly fine on its own through the command line. For example,
after you create a grading script named <code class="xref py py-obj docutils literal notranslate"><span class="pre">grade_assignment.py</span></code>, you can run a
single student submission through it to get the recommended feedback:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>&gt;<span class="w"> </span>pedal<span class="w"> </span>feedback<span class="w"> </span>grade_assignment.py<span class="w"> </span>student_submission.py
<span class="go">You created a variable on line 3 named `sum`, but never ended up using it.</span>
</pre></div>
</div>
<p>Or you could regrade a folder of student submissions:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>&gt;<span class="w"> </span>ls<span class="w"> </span>submissions/
<span class="go">Ada Bart.py</span>
<span class="go">Babbage Bart.py</span>
<span class="go">Reese Trexler.py</span>

<span class="gp">$</span>&gt;<span class="w"> </span>pedal<span class="w"> </span>grade<span class="w"> </span>grade_assignment.py<span class="w"> </span>submissions/
<span class="go">grade_assignment.py, submissions/Ada Bart.py, 100</span>
<span class="go">grade_assignment.py, submissions/Babbage Bart.py, 0</span>
<span class="go">grade_assignment.py, submissions/Reese Trexler.py, 63</span>
</pre></div>
</div>
<p>There are many settings for the command line version. Check the Integrations for
more info.</p>
</section>
<section id="instructor-control-scripts">
<h2>Instructor Control Scripts<a class="headerlink" href="#instructor-control-scripts" title="Permalink to this heading">¶</a></h2>
<p>Let’s turn to look at what you might put inside that <code class="xref py py-obj docutils literal notranslate"><span class="pre">grade_assignment.py</span></code>
script. This is our Instructor Control Script (or a “grading script”, if you
prefer). If you’re not using a custom environment, then you will probably
want to run the following at the minimum:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Always start by importing Pedal</span>
<span class="kn">from</span> <span class="nn">pedal</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Load the students&#39; code</span>
<span class="n">student_code</span> <span class="o">=</span> <span class="s2">&quot;print(&#39;Hello world!&#39;)&quot;</span>
<span class="n">contextualize_report</span><span class="p">(</span><span class="n">student_code</span><span class="p">)</span>

<span class="c1"># Check their source code for syntax errors</span>
<span class="n">verify</span><span class="p">()</span>
<span class="c1"># Run their code</span>
<span class="n">student</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="n">student_code</span><span class="p">)</span>

<span class="c1"># ... More instructor logic can go here ...</span>

<span class="c1"># Resolve output and print</span>
<span class="kn">from</span> <span class="nn">pedal.resolvers</span> <span class="kn">import</span> <span class="n">print_resolve</span>
<span class="n">print_resolve</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="custom-environments">
<h2>Custom Environments<a class="headerlink" href="#custom-environments" title="Permalink to this heading">¶</a></h2>
<p>Always needing to setup and run the students’ code is tedious. If you write that
code a hundred times, you’re likely to make a mistake. Pedal supports the idea
of Environment’s to handle the common boilerplate. These can be passed in as
command line arguments, or an autograding platform can provide them automatically.</p>
<p>For example, let’s say we ran the following on the command line to emulate the
BlockPy environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>&gt;<span class="w"> </span>pedal<span class="w"> </span>feedback<span class="w"> </span>grade_assignment.py<span class="w"> </span>student_submission.py<span class="w"> </span>--environment<span class="w"> </span>blockpy
</pre></div>
</div>
<p>Now that same instructor script from before can literally just be:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Always start by importing Pedal</span>
<span class="kn">from</span> <span class="nn">pedal</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># ... More instructor logic can go here ...</span>
</pre></div>
</div>
</div>
<p>After just the lines above, the learners’ submission will have been:</p>
<ul class="simple">
<li><p>Checked for <code class="xref py py-obj docutils literal notranslate"><span class="pre">Source</span></code> code errors that prevent parsing, with relevant syntax error messages generated.</p></li>
<li><p>Executed in our <code class="xref py py-obj docutils literal notranslate"><span class="pre">Sandbox</span></code> (relatively safely), with relevant runtime error messages generated and student data stored in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">student</span></code> variable.</p></li>
<li><p>Reviewed by <code class="xref py py-obj docutils literal notranslate"><span class="pre">TIFA</span></code>, which detects and provides feedback on common algorithmic errors (e.g., unused variables).</p></li>
<li><p>A default <code class="xref py py-obj docutils literal notranslate"><span class="pre">Resolver</span></code> is called at the end of your script.</p></li>
</ul>
<p>We’ll talk about what you get from the features above, but first, let’s talk about how you provide
custom feedback.</p>
</section>
<section id="core-feedback-functions">
<h2>Core Feedback Functions<a class="headerlink" href="#core-feedback-functions" title="Permalink to this heading">¶</a></h2>
<p>There are a few core feedback commands that provide simple Responses to students.
Most likely, these will be called within the body of <code class="xref py py-obj docutils literal notranslate"><span class="pre">if</span></code> statements throughout
your instructor control script.</p>
<p><strong>Gently</strong>: The first is <a class="reference internal" href="../developers/api.html#pedal.core.commands.gently" title="pedal.core.commands.gently"><code class="xref py py-func docutils literal notranslate"><span class="pre">gently()</span></code></a>, which allows you
to present the learner with a simple textual message. This might be a hint, or
a description of the mistake they made, or something else. However, it should
be used to deliver negative feedback. There are other Feedback Functions to
deliver negative feedback; the name <a class="reference internal" href="tools/core.html#gently" title="gently"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gently</span></code></a> refers to the fact that most
Resolvers will prioritize this feedback lower than runtime errors, syntax
errors, etc. Its high-priority complement is <a class="reference internal" href="tools/core.html#explain" title="explain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">explain</span></code></a> which will totally
supplant most other kinds of errors.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gently</span><span class="p">(</span><span class="s2">&quot;You failed to solve the question correctly!&quot;</span><span class="p">,</span>
       <span class="n">label</span><span class="o">=</span><span class="s2">&quot;incorrect_answer&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Wrong!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Notice that we provide a <a class="reference internal" href="tools/ffs.html#label" title="label"><code class="xref py py-obj docutils literal notranslate"><span class="pre">label</span></code></a> and <a class="reference internal" href="tools/ffs.html#title" title="title"><code class="xref py py-obj docutils literal notranslate"><span class="pre">title</span></code></a> (both optional).
We encourage you to label feedback to enhance your subsequent analysis.
Any Feedback Function can take in <a class="reference internal" href="tools/ffs.html#label" title="label"><code class="xref py py-obj docutils literal notranslate"><span class="pre">label</span></code></a>, <a class="reference internal" href="tools/ffs.html#title" title="title"><code class="xref py py-obj docutils literal notranslate"><span class="pre">title</span></code></a>, and many other useful
settings.</p>
<p><strong>Compliment</strong>: You can give the student compliments on things that are going well.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">compliment</span><span class="p">(</span><span class="s2">&quot;Good use of a `for` loop!&quot;</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="s2">&quot;+10%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this example, we have also included some partial credit using the optional <a class="reference internal" href="tools/ffs.html#score" title="score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">score</span></code></a>
parameter.</p>
<p>There are many other core commands, and many other optional parameters to enhance them.
Check out the <a class="reference internal" href="reference.html"><span class="doc">Teacher Reference</span></a> for more.</p>
</section>
<section id="finding-ast-patterns">
<h2>Finding AST Patterns<a class="headerlink" href="#finding-ast-patterns" title="Permalink to this heading">¶</a></h2>
<p>CAIT can also be used to declaratively identify regions of source using a Regular-expression style
function named <code class="xref py py-obj docutils literal notranslate"><span class="pre">find_matches</span></code> (or <code class="xref py py-obj docutils literal notranslate"><span class="pre">find_match</span></code> to get the first result):</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matches</span> <span class="o">=</span> <span class="n">find_matches</span><span class="p">(</span><span class="s2">&quot;answer = 5&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">matches</span><span class="p">:</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;The variable `answer` should not be assigned the value `5`.&quot;</span><span class="p">,</span> <span class="s2">&quot;assigned_literal_value_to_answer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">find_matches</span></code> function supports several kinds of wildcards, and gives you access to
identifiers in the learners’ code.</p>
<p><strong>Wild Card Match</strong>:  The triple underscore is used as a wild match card.
It will match to any node or subtree.
If you wish to access such data, you should use expressions instead.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">find_matches</span><span class="p">(</span><span class="s2">&quot;answer = ___&quot;</span><span class="p">):</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;You assigned something to the variable `answer`&quot;</span><span class="p">,</span> <span class="s2">&quot;assigned_to_answer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Variable Name Match</strong>: A place holder for variables, denoted by single underscores on both sides.
Many instructor variables are allowed to map to one variable in student code,
but each variable in student code can only map to one instructor variable.
You can get a variable’s name via its <a class="reference external" href="https://docs.python.org/3/library/functions.html#id" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">id</span></code></a> attribute.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;_accumulator_ = 0&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;_accumulator_&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="s2">&quot;sum&quot;</span><span class="p">:</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;Do not name your accumulating variable `sum`, since that is a reserved word.&quot;</span><span class="p">,</span> <span class="s2">&quot;shadowed_builtin&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Subtree Expressions Match</strong>: A place holder for subtree expressions.
An expression is denoted by a double underscore before and after the name of the expression.
You can get the expression’s AST node name via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code> attribute.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">find_match</span><span class="p">(</span><span class="s2">&quot;_accumulator_ = __initial__&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;__initial__&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;List&quot;</span><span class="p">:</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;You initialized your accumulator as a list literal.&quot;</span><span class="p">,</span> <span class="s2">&quot;initialized_accumulator&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="checking-execution-results">
<h2>Checking Execution Results<a class="headerlink" href="#checking-execution-results" title="Permalink to this heading">¶</a></h2>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">Sandbox</span></code> module is responsible for running student code as safely as possible,
preventing access to the instructor control script and the grading functionality.
Once run, you can get access to students’ final variables’ values via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> attribute:</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;sum&#39;</span> <span class="ow">in</span> <span class="n">student</span><span class="o">.</span><span class="n">data</span> <span class="ow">and</span> <span class="n">student</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">47</span><span class="p">:</span>
    <span class="n">compliment</span><span class="p">(</span><span class="s2">&quot;You have summed correctly!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="calling-students-functions">
<h2>Calling Students’ Functions<a class="headerlink" href="#calling-students-functions" title="Permalink to this heading">¶</a></h2>
<p>You can call students’ functions and pass in arguments.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">&quot;add_numbers&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">35</span><span class="p">:</span>
    <span class="n">gently</span><span class="p">(</span><span class="s2">&quot;You are multiplying instead of adding.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If you inspect the result of calling a student function, it will appear to be a simple Python
value - in the case above, if the students’ code returned an integer, you could add or divide
the result normally. However, it’s secretly a heavily-proxied wrapper object that pretends to be
the value - the payoff of that complexity is additional metadata for how that value is produced,
which you can see in the Assertions.</p>
</section>
<section id="simple-assertions">
<h2>Simple Assertions<a class="headerlink" href="#simple-assertions" title="Permalink to this heading">¶</a></h2>
<p>Most instructors will already be comfortable with writing assertions, as they would with a
unit testing framework.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.assertions</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">assert_equal</span><span class="p">(</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">13</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_*</span></code> functions have a large amount of extra machinery to produce vastly improved error messages.
When a students’ code causes an error, the traceback will not show any instructor lines.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<strong>Failed Instructor Test</strong>
<pre>Student code failed instructor test.
I ran the code:
    add(1, 2)
The value of the result was:
    -1
But I expected the result to be equal to:
    3</pre></div>
<p>There are also some more advanced assertions:</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">assert_output</span><span class="p">(</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;print_values&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="s2">&quot;1</span><span class="se">\n</span><span class="s2">2</span><span class="se">\n</span><span class="s2">3&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="simple-unit-testing">
<h2>Simple Unit Testing<a class="headerlink" href="#simple-unit-testing" title="Permalink to this heading">¶</a></h2>
<p>Assertions are a convenient way to check an individual aspect of code, but sometimes you want to
bundle up a series of arguments/return values.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">unit_test</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">7</span><span class="p">),</span>
    <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">10</span><span class="p">),</span>
    <span class="p">((</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<p>The results of failed tests are placed into an HTML table.</p>
</section>
<section id="other-assertions">
<h2>Other Assertions<a class="headerlink" href="#other-assertions" title="Permalink to this heading">¶</a></h2>
<p>There are many other kinds of assertions:</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure the function has two parameters</span>
<span class="n">ensure_function</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">arity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Ensure the functions&#39; parameters are typed</span>
<span class="n">ensure_function</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">returns</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="c1"># Make sure all functions are documented</span>
<span class="n">ensure_documented_functions</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Are they not allowed to use certain operators, literals, or functions for
this question?</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Give operations as strings</span>
<span class="n">prevent_operation</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="n">ensure_operation</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
<span class="c1"># You can limit the quantity</span>
<span class="n">ensure_function_call</span><span class="p">(</span><span class="s2">&quot;print&quot;</span><span class="p">,</span> <span class="n">at_least</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">prevent_function_call</span><span class="p">(</span><span class="s2">&quot;print&quot;</span><span class="p">,</span> <span class="n">at_most</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="c1"># You can check literal values</span>
<span class="n">ensure_literal</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span>
<span class="n">prevent_literal</span><span class="p">(</span><span class="mi">29</span><span class="p">)</span>
<span class="n">ensure_literal_type</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">prevent_literal_type</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="c1"># Or check AST nodes</span>
<span class="n">ensure_ast</span><span class="p">(</span><span class="s2">&quot;For&quot;</span><span class="p">)</span>
<span class="n">prevent_ast</span><span class="p">(</span><span class="s2">&quot;While&quot;</span><span class="p">)</span>
<span class="c1"># You can statically check modules</span>
<span class="n">ensure_import</span><span class="p">(</span><span class="s1">&#39;math&#39;</span><span class="p">)</span>
<span class="n">prevent_import</span><span class="p">(</span><span class="s1">&#39;statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The toolkit is rich and extensive, although somewhat situational. Refer to the complete
<a class="reference internal" href="reference.html"><span class="doc">Teacher Reference</span></a> for more information.</p>
</section>
<section id="resolver-feedback">
<h2>Resolver Feedback<a class="headerlink" href="#resolver-feedback" title="Permalink to this heading">¶</a></h2>
<p>Ultimately, when you’re done detecting conditions and generating responses, you need to
resolve the feedback into some output. Most environments automatically call
the resolver, so it is not necessary to call this yourself. However, the default
environment does not, so you would need to use the following:</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">grade_assignment.py</span><a class="headerlink" href="#id16" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pedal.resolvers.simple</span> <span class="kn">import</span> <span class="n">resolve</span>
<span class="n">resolve</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>There are many ways that a resolver could choose among pieces of collected feedback.
The default resolver prioritizes things as follows:</p>
<ul class="simple">
<li><p>Highest priority is any feedback given the <code class="xref py py-obj docutils literal notranslate"><span class="pre">'highest'</span></code> priority explicitly</p></li>
<li><p>Next up are syntax errors</p></li>
<li><p>Then any custom Instructor feedback (e.g., forbidding <code class="xref py py-obj docutils literal notranslate"><span class="pre">for</span></code> loops)</p></li>
<li><p>Then TIFA’s algorithmic feedback (e.g., unused variables, incompatible type operations)</p></li>
<li><p>Any Runtime errors</p></li>
<li><p>Any feedback that is given through <a class="reference internal" href="tools/core.html#gently" title="gently"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gently</span></code></a></p></li>
<li><p>Finally, any feedback given the <code class="xref py py-obj docutils literal notranslate"><span class="pre">'lowest'</span></code> priority explicitly</p></li>
</ul>
<p>If no issues are detected, then by default the resolver will mark the submission as correct.
Other custom resolvers can behave differently, and ultimately might want to show more than one
piece of feedback, or not default to marking the submission as correct. However, we have found
this default resolver to be largely effective (anecdotally).</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="examples.html" class="btn btn-neutral float-right" title="Teacher Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../everyone/installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, acbart, lukesg08.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>